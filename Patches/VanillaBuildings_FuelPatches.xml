<?xml version="1.0" encoding="utf-8"?>
<Patch>

  <!-- Campfire: Add RimWood Firewood and Charcoal categories -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="Campfire"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter</xpath>
    <value>
      <categories>
        <li>RimWood_Firewood</li>
        <li>RimWood_Charcoal</li>
      </categories>
    </value>
  </Operation>

  <!-- Fueled Smithy: Add RimWood Firewood and Charcoal categories -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="FueledSmithy"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter</xpath>
    <value>
      <categories>
        <li>RimWood_Firewood</li>
        <li>RimWood_Charcoal</li>
      </categories>
    </value>
  </Operation>

  <!-- Fueled Stove: Add RimWood Firewood and Charcoal categories -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="FueledStove"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter</xpath>
    <value>
      <categories>
        <li>RimWood_Firewood</li>
        <li>RimWood_Charcoal</li>
      </categories>
    </value>
  </Operation>

  <!-- TorchBase (covers TorchLamp): Add categories node with RimWood Firewood -->
  <!-- Note: TorchLamp inherits from TorchBase which has fuelFilter/thingDefs, so we add categories alongside it -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[@Name="TorchBase"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter</xpath>
    <value>
      <categories>
        <li>RimWood_Firewood</li>
      </categories>
    </value>
  </Operation>

  <!-- TorchWallLamp: Add categories node with RimWood Firewood -->
  <!-- Note: TorchWallLamp uses Inherit="False" so it doesn't get TorchBase patches, must be patched separately -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="TorchWallLamp"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter</xpath>
    <value>
      <categories>
        <li>RimWood_Firewood</li>
      </categories>
    </value>
  </Operation>

  <!-- Wood-Fired Generator: Add RimWood Firewood and Charcoal categories -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="WoodFiredGenerator"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter</xpath>
    <value>
      <categories>
        <li>RimWood_Firewood</li>
        <li>RimWood_Charcoal</li>
      </categories>
    </value>
  </Operation>

  <!-- Passive Cooler: Replace WoodLog with Wood Fibre Pads -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PassiveCooler"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter</xpath>
    <value>
      <fuelFilter>
        <categories>
          <li>RimWood_FibrePads</li>
        </categories>
      </fuelFilter>
    </value>
  </Operation>

</Patch>
