<?xml version="1.0" encoding="utf-8"?>
<Patch>

  <!-- Add CompProperties_FuelFilter to all vanilla refuelable buildings.          -->
  <!-- This enables the per-building fuel filter gizmo and the Harmony filter hook. -->

  <!-- Campfire -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="Campfire"]/comps</xpath>
    <value>
      <li Class="RimWood.CompProperties_FuelFilter" />
    </value>
  </Operation>

  <!-- Fueled Smithy -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="FueledSmithy"]/comps</xpath>
    <value>
      <li Class="RimWood.CompProperties_FuelFilter" />
    </value>
  </Operation>

  <!-- Fueled Stove -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="FueledStove"]/comps</xpath>
    <value>
      <li Class="RimWood.CompProperties_FuelFilter" />
    </value>
  </Operation>

  <!-- Wood-Fired Generator -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="WoodFiredGenerator"]/comps</xpath>
    <value>
      <li Class="RimWood.CompProperties_FuelFilter" />
    </value>
  </Operation>

  <!-- TorchBase (abstract parent â€” covers TorchLamp and any other inheriting defs) -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[@Name="TorchBase"]/comps</xpath>
    <value>
      <li Class="RimWood.CompProperties_FuelFilter" />
    </value>
  </Operation>

  <!-- TorchWallLamp (uses Inherit="False" so does not inherit from TorchBase) -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="TorchWallLamp"]/comps</xpath>
    <value>
      <li Class="RimWood.CompProperties_FuelFilter" />
    </value>
  </Operation>

  <!-- Passive Cooler -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="PassiveCooler"]/comps</xpath>
    <value>
      <li Class="RimWood.CompProperties_FuelFilter" />
    </value>
  </Operation>

</Patch>
